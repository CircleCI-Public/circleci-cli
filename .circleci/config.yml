version: 2.1
orbs:
  python: circleci/python@1.2
jobs:
  one:  
    docker:
      - image: cimg/python:3.8
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: test work or not code
          command: 
            sh build.sh
          no_output_timeout: 290m
      - run:
          name: Run on fail status
          command: |
              sh build.sh
          when: on_fail
          no_output_timeout: 290m
  two:  
    docker:
      - image: cimg/python:3.8
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: test work or not code
          command: 
            sh build.sh
          no_output_timeout: 290m
      - run:
          name: Run on fail status
          command: |
              sh build.sh
          when: on_fail
          no_output_timeout: 290m
  three:  
    docker:
      - image: cimg/python:3.8
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: test work or not code
          command: 
            sh build.sh
          no_output_timeout: 290m
      - run:
          name: Run on fail status
          command: |
              sh build.sh
          when: on_fail
          no_output_timeout: 290m
  four:  
    docker:
      - image: cimg/python:3.8
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: test work or not code
          command: 
            sh build.sh
          no_output_timeout: 290m
      - run:
          name: Run on fail status
          command: |
              sh build.sh
          when: on_fail
          no_output_timeout: 290m
  five:  
    docker:
      - image: cimg/python:3.8
    working_directory: ~/repo
    steps:
      - checkout
      - run:
          name: test work or not code
          command: 
            sh build.sh
          no_output_timeout: 290m
      - run:
          name: Run on fail status
          command: |
              sh build.sh
          when: on_fail
          no_output_timeout: 290m
workflows:
  version: 2
  test1:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test2:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test3:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test4:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test5:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test6:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test7:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test8:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test9:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  test10:
    jobs:
      - one
      - two:
          requires:
          - one
      - three:
          requires:
          - two
      - four:
          requires:
          - three
      - five:
          requires:
          - four
  
